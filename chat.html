<script>
async function sendToAPI(message) {
    const response = await fetch("https://api.openai.com/v1/chat/completions", {
        method: "POST",
        headers: {
            "Content-Type": "application/json",
            "Authorization": "Bearer ВСТАВЬ_СЮДА_СВОЙ_API_KEY"
        },
        body: JSON.stringify({
            model: "gpt-4o-mini",
            messages: [
                {
                    role: "system",
                    content: "Ты StudentCare Assistant — умный помощник для школьников. Отвечай доброжелательно, понятно, с примерами. Глубже объясняй темы: школьные проблемы, учеба, стресс, мотивация."
                },
                {
                    role: "user",
                    content: message
                }
            ]
        })
    });

    const data = await response.json();
    return data.choices[0].message.content;
}

async function handleSend() {
    const input = document.getElementById("userInput");
    const message = input.value;
    input.value = "";

    addMessage("Ты: " + message);

    const reply = await sendToAPI(message);
    addMessage("Бот: " + reply);
}

function addMessage(text) {
    const chat = document.getElementById("chat");
    const p = document.createElement("p");
    p.textContent = text;
    chat.appendChild(p);
}
</script>
